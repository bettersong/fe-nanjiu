## 前言

JavaScript中表示集合的数据结构一般有Array、Object、Set、Map这四种，它们的数据结构各不相同，但都是可遍历的，为了实现一种统一的遍历机制，于是ES6中提出了遍历器（Iterator）这样一种统一的接口机制来处理这些不同的数据结构。

**如果这篇文章有帮助到你，❤️关注+点赞❤️鼓励一下作者，文章公众号首发，关注 `前端南玖` 第一时间获取最新文章～**

## Iterator

Iterator它是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 Iterator 接口，就可以完成遍历操作。

### Iterator的作用：

- 为各种数据结构提供一种统一的接口机制便于遍历
- 使数据结构成员能够按顺序排序
- 供ES6中提出的`for...of`使用

### Iterator的遍历过程

- 遍历器对象本质上是一个指针对象
- 每调用一次指针对象的`next`方法，指针就会指向对应的值，并且会返回当前成员的信息，包含`value`和`done`的对象
- `value`属性是当前成员的值，`done`属性是一个布尔值，表示当前遍历是否结束

了解完`Iterator`的基本概念，我们可以来实现一下遍历器：

```js
function createIterator(arr) {
    let nextIndex = 0

    return {
        next: function() {
            return nextIndex < arr.length ?
            {value: arr[nextIndex++], done: false} :
            {value: undefined, done: true}
        }
    }
}
let iterator = createIterator([1, 2, 3])

console.log(iterator.next())  // {value:1, done: false}
console.log(iterator.next())  // {value:2, done: false}
console.log(iterator.next())  // {value:3, done: false}
console.log(iterator.next())  // {value: undefined, done: true}
```

ES6 规定，默认的 Iterator 接口部署在数据结构的`Symbol.iterator`属性，或者说，一个数据结构只要具有`Symbol.iterator`属性，就可以认为是“可遍历的”（iterable）。

## for...of

> ES6 借鉴 C++、Java、C# 和 Python 语言，引入了for...of循环。作为遍历所有数据结构的统一的方法。






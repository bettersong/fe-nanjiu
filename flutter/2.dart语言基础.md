## ç®€ä»‹

`Dart`è¯­è¨€å€Ÿé‰´äº†ç°ä»£ç¼–ç¨‹è¯­è¨€çš„å¤§éƒ¨åˆ†ä¼˜ç‚¹ä¸é«˜çº§ç‰¹æ€§ï¼Œå¹¶ä¸”å®ƒå¯ä»¥è¿è¡Œåœ¨è‡ªå·±çš„è™šæ‹Ÿæœºä¸Šï¼Œä¹Ÿå¯ä»¥ç¼–è¯‘æˆ`Native Code`è¿è¡Œåœ¨`Android`æˆ–`iOS`ä¸Šï¼ˆå½“ç„¶ä»–ä¹Ÿå¯ä»¥ç¼–è¯‘æˆweb ä»£ç ï¼‰ã€‚`Flutter`é€‰æ‹©`Dart`ä½œä¸ºå”¯ä¸€å¼€å‘è¯­è¨€çš„åŸå› æ˜¯å®ƒæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š**é«˜æ•ˆã€å“åº”å¼ç¼–ç¨‹ã€æ˜“å­¦**

## æ•°æ®ç±»å‹

`Dart`ä¸­å¸¸è§çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š

- **int**ï¼šæ•´å‹ï¼ŒèŒƒå›´åœ¨`-2^53 ~ 2^53`
- **double**ï¼š64ä½åŒç²¾åº¦æµ®ç‚¹å‹
- **String**ï¼šå­—ç¬¦ä¸²
- **bool**ï¼šå¸ƒå°”
- **List**ï¼šåˆ—è¡¨
- **Set**ï¼šé›†åˆ
- **Map**ï¼šé”®å€¼å¯¹æ˜ å°„

### æ•°å­—ç±»å‹

åœ¨`Dart`ä¸­ï¼Œæ•°å­—ç±»å‹æœ‰ä¸¤ç§å½¢å¼ï¼š**int**ã€**double**

- **int**ï¼šæ•´æ•°å€¼ä¸å¤§äº64ä½ï¼Œå…·ä½“å–å†³äºå¹³å°ï¼Œåœ¨æœ¬æœºå¹³å°ä¸Šï¼Œå€¼çš„èŒƒå›´å¯ä»¥æ˜¯` -2^63`åˆ° `2^63 - 1`ã€‚åœ¨ Web ä¸Šï¼Œæ•´æ•°å€¼è¡¨ç¤ºä¸º JavaScript æ•°å­—ï¼ˆæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„ 64 ä½æµ®ç‚¹å€¼ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æ˜¯ä» `-2^53`åˆ° `2^53 - 1`

- **double**ï¼š64ä½åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç”± IEEE 754 æ ‡å‡†æŒ‡å®šã€‚

åœ¨`Dart`ä¸­ï¼Œå®šä¹‰å˜é‡ä¸ºæ•°å­—å¯ä»¥ä½¿ç”¨`num`,`int`,`double`ã€‚`int`ä¸`double`éƒ½æ˜¯`num`çš„å­ç±»

```dart
num a = 18; // numæ˜¯intå’Œdoubleçš„çˆ¶ç±»
int b = 20; // intæ˜¯numçš„å­ç±»
double c = 20.1; // doubleæ˜¯numçš„å­ç±»

print('a---$a---${a.runtimeType}---${a is num}---${a is int}');
print('b---$b---${b.runtimeType}---${b is num}---${b is int}');
print('c---$c---${c.runtimeType}---${c is num}---${c is double}');
print('b/c---${b / c}---${(b / c).runtimeType}---${(b / c) is double}');
```

![image-20230909192714043](/Users/songyao/Desktop/songyao/fe-nanjiu/images/dart/1.png)

ä»ä¸Šå›¾æˆ‘ä»¬å°±èƒ½éªŒè¯å‡º`int`ä¸`double`éƒ½æ˜¯`num`çš„å­ç±»ï¼Œå¹¶ä¸”æ•´å‹ä¹˜é™¤æµ®ç‚¹å‹æ—¶ï¼Œç»“æœæ˜¯æµ®ç‚¹å‹

**éœ€è¦æ³¨æ„çš„æ˜¯dartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½ ä½¿ç”¨`int`å°†å˜é‡å£°æ˜ä¸ºæ•´å‹æ—¶ï¼Œåé¢ä½ å°±ä¸èƒ½å°†å®ƒæ”¹ä¸ºæµ®ç‚¹å‹ï¼Œå¦‚æœæƒ³è¦æ”¹å˜æ•°å­—ç±»å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨`num`æ¥å£°æ˜**ï¼ˆè¿™é‡Œä¸JSä¸åŒï¼‰

```dart
num a = 18; // numæ˜¯intå’Œdoubleçš„çˆ¶ç±»
int b = 20; // intæ˜¯numçš„å­ç±»
double c = 20.1; // doubleæ˜¯numçš„å­ç±»

a = 10.1; // numå¯ä»¥èµ‹å€¼ç»™double
b = 20.1; // intä¸èƒ½èµ‹å€¼ç»™double
```

![image-20230909193335087](/Users/songyao/Desktop/songyao/fe-nanjiu/images/dart/2.png)

### å­—ç¬¦ä¸²ç±»å‹

åœ¨`Dart`è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ”¯æŒå•å¼•å·ã€åŒå¼•å·ä»¥åŠä¸‰å¼•å·ï¼Œå…¶ä¸­ï¼Œå•å¼•å·å’ŒåŒå¼•å·ä¸­çš„åŒå¼•å·éœ€è¦è½¬ä¹‰ï¼Œä¸‰å¼•å·ä¼šå°†å†…å®¹åŸæ ·è¾“å‡ºï¼Œè¿æ³¨é‡Šéƒ½æ— æ³•â€œé€ƒè„±â€ã€‚å¦å¤–ï¼Œ`${exp}`å¯ä»¥åœ¨å­—ç¬¦ä¸²å†…æ’å…¥å­—ç¬¦ä¸²è¡¨è¾¾å¼

```dart
String a = 'nanjiu'; // å•å¼•å·
String b = "dart"; // åŒå¼•å·
String c = '''hello world'''; // ä¸‰ä¸ªå•å¼•å·
String d = """hello world"""; // ä¸‰ä¸ªåŒå¼•å·

print('a---$a---${a.runtimeType}---${a is String}');
print('b---$b---${b.runtimeType}---${b is String}');
print('c---$c---${c.runtimeType}---${c is String}');
print('d---$d---${d.runtimeType}---${d is String}');

String url = 'https://bettersong.github.io/nanjiu/';
print(url.startsWith('https')); // true
print(url.split("://")); // [https, bettersong.github.io/nanjiu/]ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„
print(url.substring(0, 5)); // https
print(url.indexOf('https')); // 0
print(url.length); // 36
print(url.contains('nanjiu')); // true
```

### å¸ƒå°”ç±»å‹

å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼š`true`ã€`false`

å£°æ˜å¸ƒå°”ç±»å‹ä½¿ç”¨å…³é”®å­—`bool`

```dart
bool isBoy = true;
bool isOld = false;
if (isBoy) {
  print('ç”·å­©');
}
```

### åˆ—è¡¨ç±»å‹

åˆ—è¡¨å¯ä»¥æ ¹æ®èŒƒå‹ç››æ”¾å¤šä¸ªå…ƒç´ ï¼Œå£°æ˜åˆ—è¡¨ç±»å‹ä½¿ç”¨å…³é”®å­—`List`ï¼Œåœ¨ä½¿ç”¨ä¸Šä¸JSä¸­çš„æ•°ç»„ç±»ä¼¼

```dart
List<String> list = ['a', 'b', 'c'];
print(list.length); // 3 // æ•°ç»„é•¿åº¦
print(list[0]); // a // è·å–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ 
print(list.indexOf('b')); // 1 // è·å–å…ƒç´ çš„ç´¢å¼•
list.add('d'); // æ·»åŠ å…ƒç´ 
print(list); // [a, b, c, d]
list.remove('a'); // åˆ é™¤å…ƒç´ 
print(list); // [b, c, d]
list.removeAt(0); // åˆ é™¤ç´¢å¼•ä¸º0çš„å…ƒç´ 
print(list); // [c, d]
list.insert(0, 'a'); // åœ¨ç´¢å¼•ä¸º0çš„ä½ç½®æ’å…¥å…ƒç´ 
print(list); // [a, c, d]
list.insertAll(1, ['b', 'e']); // åœ¨ç´¢å¼•ä¸º1çš„ä½ç½®æ’å…¥å…ƒç´ 
print(list); // [a, b, e, c, d]
list.replaceRange(1, 3, ['f', 'g']); // æ›¿æ¢ç´¢å¼•ä¸º1åˆ°3çš„å…ƒç´ ï¼Œä¸åŒ…å«3
print(list); // [a, f, g, c, d]
list.fillRange(1, 3, 'h'); // æ›¿æ¢ç´¢å¼•ä¸º1åˆ°3çš„å…ƒç´ ,ä¸åŒ…å«3
print(list); // [a, h, h, c, d]
print(list.isEmpty); // false // åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º
print(list.isNotEmpty); // true // åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ä¸ºç©º
print(list.reversed); // (d, c, h, h, a) // åè½¬æ•°ç»„, è¿”å›ä¸€ä¸ªè¿­ä»£å™¨
print(list.reversed.toList()); // [d, c, h, h, a] // åè½¬æ•°ç»„å¹¶è½¬æ¢ä¸ºæ•°ç»„
list.sort(); // æ’åº
```

### é›†åˆç±»å‹

é›†åˆä¸åˆ—è¡¨çš„åŒºåˆ«åœ¨äºé›†åˆä¸­çš„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œè¿™ç‚¹ä¸JSç±»ä¼¼ã€‚å£°æ˜é›†åˆä½¿ç”¨å…³é”®å­—`Set`

æ·»åŠ é‡å¤å…ƒç´ æ—¶ä¼šè¿”å›falseï¼Œè¡¨ç¤ºæ²¡åŠ è¿›å»

```dart
Set<String> set = {'a', 'b', 'c'};
print(set.length); // 3 // é›†åˆé•¿åº¦
print(set.contains('a')); // true // åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ 
print(set.add('d')); // true // æ·»åŠ å…ƒç´ 
print(set); // {a, b, c, d}
print(set.add('a')); // false // ä¸å…è®¸é‡å¤æ·»åŠ å…ƒç´ 
print(set); // {a, b, c, d}
print(set.remove('a')); // true // åˆ é™¤å…ƒç´ 
print(set); // {b, c, d}
print(set.isEmpty); // false // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º
print(set.isNotEmpty); // true // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ä¸ºç©º
print(set.toList()); // [b, c, d] // è½¬æ¢ä¸ºåˆ—è¡¨
print(set.toList().reversed); // (d, c, b) // åè½¬åˆ—è¡¨
print(set.toList().reversed.toList()); // [d, c, b] // åè½¬åˆ—è¡¨å¹¶è½¬æ¢ä¸ºåˆ—è¡¨
```

### æ˜ å°„ç±»å‹

Mapä½œä¸ºè‹¥å¹²ä¸ªé”®å€¼å¯¹çš„å®¹å™¨ï¼Œäº«æœ‰æ˜ å°„ä¹‹åã€‚è¦æ³¨æ„ä¸€ä¸ªMapå¯¹è±¡çš„é”®ä¸èƒ½é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤ã€‚åœ¨Dartè¯­æ³•ä¸­ï¼ŒMapæ¯”è¾ƒçµæ´»ï¼Œå’Œåˆ—è¡¨ä¹‹é—´ç›¸äº’è½¬åŒ–éå¸¸æ–¹ä¾¿

```dart
Map<String, String> map = {'a': '1', 'b': '2', 'c': '3'};
print(map.length); // 3 // æ˜ å°„é•¿åº¦
print(map['a']); // 1 // è·å–keyä¸ºaçš„å€¼
print(map.containsKey('a')); // true // åˆ¤æ–­æ˜¯å¦åŒ…å«keyä¸ºaçš„å€¼
print(map.containsValue('1')); // true // åˆ¤æ–­æ˜¯å¦åŒ…å«å€¼ä¸º1çš„å€¼
map['d'] = '4'; // æ·»åŠ å…ƒç´ 
print(map); // {a: 1, b: 2, c: 3, d: 4}
map['d'] = '5'; // ä¿®æ”¹å…ƒç´ 
print(map); // {a: 1, b: 2, c: 3, d: 5}
map.remove('d'); // åˆ é™¤å…ƒç´ 
print(map); // {a: 1, b: 2, c: 3}
print(map.isEmpty); // false // åˆ¤æ–­æ˜ å°„æ˜¯å¦ä¸ºç©º
print(map.isNotEmpty); // true // åˆ¤æ–­æ˜ å°„æ˜¯å¦ä¸ä¸ºç©º
print(map.keys); // (a, b, c) // è·å–æ‰€æœ‰çš„keyï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨
print(map.values); // (1, 2, 3) // è·å–æ‰€æœ‰çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨
print(map.keys.toList()); // [a, b, c] // è·å–æ‰€æœ‰çš„keyå¹¶è½¬æ¢ä¸ºåˆ—è¡¨
print(map.values.toList()); // [1, 2, 3] // è·å–æ‰€æœ‰çš„å€¼å¹¶è½¬æ¢ä¸ºåˆ—è¡¨
```

## å˜é‡ä¸å¸¸é‡

### å®šä¹‰å˜é‡

ä¸`JS`ä¸åŒçš„æ˜¯ï¼Œ`Dart`æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå®šä¹‰å˜é‡é™¤äº†ä¸Šé¢é‚£ç§ä»¥æ•°æ®ç±»å‹å…³é”®å­—ä»¥å¤–è¿˜å¯ä»¥ä½¿ç”¨`var`å…³é”®å­—ã€‚

**é€šè¿‡varå…³é”®å­—å®šä¹‰å˜é‡ï¼Œä¸æŒ‡å®šç±»å‹ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨æ¨æ–­ï¼Œèµ‹å€¼åç±»å‹ç¡®å®šï¼Œä¸èƒ½å†æ¬¡æ”¹å˜**

```dart
var a;
var name = 'nanjiu';
print(a); // null
print(name); // nanjiu
print(a.runtimeType); // Null
print(name.runtimeType); // String
```

**ğŸ æç¤ºï¼šå¦‚æœåªæ˜¯ç”¨varå£°æ˜å˜é‡ï¼Œæœªèµ‹å€¼ï¼Œé‚£ä¹ˆè¯¥å˜é‡çš„æ•°æ®ç±»å‹æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚å¦‚æœå£°æ˜çš„åŒæ—¶è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„ç±»å‹å°±æ˜¯å›ºå®šçš„ï¼Œä¸å¯ä¿®æ”¹**

```dart
var name = 'nanjiu'; // å·²ç»åˆå§‹åŒ–äº†ï¼Œä¸èƒ½æ”¹ä¸ºå…¶ä»–ç±»å‹
print(name); // nanjiu
print(name.runtimeType); // String
name = 10; // ä¸èƒ½å°†intèµ‹å€¼ç»™String
```

![image-20230909202337480](/Users/songyao/Desktop/songyao/fe-nanjiu/images/dart/3.png)

> å»ºè®®åœ¨ç¼–å†™ä»£ç æ—¶æ˜¾å¼å®šä¹‰å˜é‡ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€‚

### å®šä¹‰å¸¸é‡

åœ¨`Dart`ä¸­ï¼Œä½¿ç”¨`const`æˆ–`final`å…³é”®å­—æ¥å®šä¹‰å¸¸é‡ï¼Œå½“å¯¹finalæˆ–è€…constä¿®é¥°çš„é‡å†è¿›è¡Œèµ‹å€¼æ—¶å°±ä¼šæŠ¥é”™

```dart
var a;
{
  const a = 1;
  print(a); // 1
  final b = 2;
  print(b); // 2
}
print(a); // null
```

å®ƒä¹Ÿæœ‰ä½œç”¨åŸŸï¼Œä¸èƒ½å†åŒæ„ä½œç”¨åŸŸä¸­é‡å¤å®šä¹‰.

**ä¸¤è€…çš„åŒºåˆ«åœ¨äºconstæ˜¯ç¼–è¯‘æœŸçš„å¸¸é‡ï¼Œfinalæ˜¯è¿è¡Œæ—¶å¸¸é‡ã€‚ä¹Ÿå°±æ˜¯åœ¨è¿è¡ŒæœŸé—´æ‰èƒ½è·å–åˆ°çš„å¸¸é‡å¿…é¡»ç”¨finalå®šä¹‰**

## è¿ç®—ç¬¦åŠæ¡ä»¶è¡¨è¾¾å¼

Dartå†…ç½®äº†ä¸€äº›åŸºæœ¬è¿ç®—ç¬¦ï¼Œæ¯”å¦‚åŠ ï¼ˆ+ï¼‰ã€å‡ï¼ˆâ€“ï¼‰ã€ä¹˜ï¼ˆ*ï¼‰ã€é™¤ï¼ˆ/ï¼‰ã€å–ä½™ï¼ˆ%ï¼‰ç­‰ï¼Œé™¤äº†è¿™äº›åŸºç¡€å†…å®¹ï¼Œè¿˜æœ‰ä»¥ä¸‹è¿™äº›ï¼š

### åˆ¤å®šå’Œè½¬æ¢ç±»å‹

- **is**ï¼šæŸä¸ªå˜é‡æ˜¯å¦æ˜¯æŒ‡å®šçš„ç±»å‹ï¼Œè‹¥æ˜¯åˆ™è¿”å›true
- **is!**ï¼šä¸`is`ç›¸å
- **as**ï¼šç”¨äºç±»å‹è½¬æ¢ï¼Œè¦æ³¨æ„è¿™ç§è½¬æ¢å¯èƒ½å‘ç”Ÿç±»å‹è½¬æ¢å¼‚å¸¸

```dart
int a = 10;
if (a is int) {
  print('aæ˜¯intç±»å‹');
  String b = a.toString();
  print(b);
  print(b.runtimeType); // String
}

String c = 'nanjiu';
print((c as Comparable<String>).compareTo('o')); // -1
```

### ä¸‰å…ƒè¡¨è¾¾å¼

è¿™ç‚¹ä¸`JS`ä¸­ç±»ä¼¼ï¼Œ`condition?expr1:expr2`è¡¨ç¤ºå¦‚æœ`condition`ä¸ºtrueåˆ™æ‰§è¡Œ`expr1`ï¼Œå¦åˆ™æ‰§è¡Œ`expr2`

```dart
bool flag = true;

int a = flag ? 1 : 0;
```

### éç©ºæ¡ä»¶åˆ¤æ–­

`expr1??expr2`è¡¨ç¤ºå¦‚æœ`expr1`ä¸ä¸º`null`åˆ™è¿”å›`expr1`ï¼Œå¦åˆ™è¿”å›`expr2`

```dart
String a = 'nanjiu';
var b;

String c = b ?? a;
print(c); // nanjiu
```

### æ¡ä»¶è°ƒç”¨

`obj?.op()`è¡¨ç¤ºå½“`obj`ä¸º`null`å°±ä¸è°ƒç”¨`op()`æ–¹æ³•ï¼Œè¿”å›`null`ï¼Œå¯¹è±¡éç©ºæ—¶å°±ä¼šæ­£å¸¸è°ƒç”¨`op()`æ–¹æ³•

```dart
var a = 10ï¼›
a = null;
print(a?.abs()); // null
```

### çº§è”è¿ç®—ç¬¦

æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡â€œ.â€æ“ä½œç¬¦è®¿é—®å¯¹è±¡çš„æ–¹æ³•ã€‚å¦‚æœæƒ³é“¾å¼è°ƒç”¨ï¼Œåœ¨Javaä¸­æˆ‘ä»¬éœ€è¦åœ¨æ–¹æ³•ä¸­è¿”å›è‡ªèº«ï¼Œè€Œåœ¨Dartä¸­ä¸éœ€è¦ï¼Œé€šè¿‡â€œ..â€æ“ä½œç¬¦å¯ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœï¼Œç”¨æ³•å¦‚ä¸‹ï¼š

```dart
Person()..setName()..setAge();
```

### if...else

```dart
String b = 'nanjiu';
if(b is String) {
  print('bæ˜¯Stringç±»å‹');
}else {
  print('bä¸æ˜¯Stringç±»å‹');
}
```

### switch

```dart
String b = 'nanjiu';

switch (b) {
  case 'nanjiu':
    print('nanjiu');
    break;
  case 'hello':
    print('hello');
    break;
  default:
    print('default');
}
```

### forå¾ªç¯

```dart
List list = ['a', 'b', 'c'];
for (var i = 0; i < list.length; i++) {
  print(list[i]); 
}
```

### whileã€do...whileå¾ªç¯

```dart
int a = 0;
while (a < 10) {
  print(a);
  a++;
}

int b = 0;
do {
  print(b);
  b++;
} while (b < 10);
```

### Listéå†

å¯ä»¥ä½¿ç”¨`for`ã€`for...in`ã€`forEach`éå†`List`é›†åˆ

```dart
List list = ['a', 'b', 'c'];
for (int i = 0; i < list.length; i++) {
  print(list[i]);
}

for (var item in list) {
  print(item);
}

list.forEach((element) {
  print(element);
});
```

### Mapéå†

`Map`æ˜¯é”®å€¼å¯¹ï¼ˆkey-valueï¼‰å½¢å¼çš„é›†åˆï¼Œå¯ä»¥ä½¿ç”¨`for`å’Œ`Map.forEach`éå†`Map`

```dart
Map<String, String> map = {'a': '1', 'b': '2', 'c': '3'};
for (int i = 0; i < map.keys.length; i++) {
  print(map[map.keys.toList()[i]]);
}

for (var item in map.keys) {
  print(map[item]);
}

map.forEach((key, value) {
  print('$key---$value');
});
```

## å‡½æ•°

å‡½æ•°ä½œä¸ºä¸€ä¸ªé€»è¾‘å•å…ƒçš„å°è£…ï¼Œæ˜¯å®ç°ä»£ç å¤ç”¨æœ€ç›´æ¥ï¼Œæœ€æœ‰æ•ˆçš„æ–¹å¼ã€‚`Dart`ä¸­çš„å‡½æ•°ä¸å…¶ä»–è¯­è¨€æœ€å¤§çš„åŒºåˆ«æ˜¯å®ƒæ²¡æœ‰å…³é”®å­—ï¼ˆå¦‚JavaScriptä¸­çš„functionï¼ŒKotlinä¸­çš„funï¼ŒSwiftä¸­çš„funcç­‰ï¼‰ï¼ŒDartç›´æ¥ä½¿ç”¨å‡½æ•°åå³å¯ï¼Œå‡½æ•°åå‰æ˜¯è¿”å›å€¼çš„ç±»å‹ã€‚

### æ™®é€šå‡½æ•°

å‡½æ•°åŒ…å«è¿”å›ç±»å‹ã€å‡½æ•°åç§°ã€å‚æ•°ç±»å‹ã€å‚æ•°åç§°

> [è¿”å›ç±»å‹] å‡½æ•°åç§° (å‚æ•°ç±»å‹ å‚æ•°1, å‚æ•°ç±»å‹ å‚æ•°2, ...) {}

æ¯”å¦‚å®šä¹‰ä¸€ä¸ªåŠ æ³•å‡½æ•°ï¼š

```dart
int add(int a, int b) {
  return a + b;
}

print(add(1, 2)); // 3
```

è¿”å›ç±»å‹è™½ç„¶å¯ä»¥çœç•¥ï¼Œä½†å¼ºçƒˆå»ºè®®ä¸è¦çœç•¥ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€‚

### å¯é€‰å‚æ•°

å¯ä»¥å‚æ•°å¯ä»¥ä½¿ç”¨`[]`æˆ–`{}`æŒ‡å®šè‹¥å¹²å¯é€‰å‚æ•°ï¼ŒåŒºåˆ«åœ¨äºä½¿ç”¨`[]`æ—¶å…¥å‚å¿…é¡»æŒ‰é¡ºåºæ¥æ’åˆ—

```dart
int add2([int a = 0, int b = 0]) {
  return a + b;
}

add2(1, 2); // 3
```

å½“å‚æ•°è¿‡å¤šå¹¶ä¸”å¸Œæœ›å¯ä»¥ä¸æŒ‰å…¥å‚é¡ºåºä¼ å…¥å‚æ•°ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨`{}`æ˜ å°„å‚æ•°ï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼é”®å€¼å¯¹ï¼Œé€šè¿‡é”®åæ¥è¿›è¡Œä¼ å‚

```dart
int add3(int a, {int b = 0, int c = 0}) {
  return a + b + c;
}

add3(1, b: 2, c: 3); // 6
```

### åŒ¿åå‡½æ•°

æ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬åˆ›å»ºçš„å‡½æ•°éƒ½æ˜¯æœ‰å‡½æ•°åçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºæ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œè¿™ç§å‡½æ•°ç§°ä¸ºåŒ¿åå‡½æ•°ï¼Œä¹Ÿå«lambdaè¡¨è¾¾å¼æˆ–è€…é—­åŒ…ã€‚åŒ¿åå‡½æ•°ç”¨æ³•å¦‚ä¸‹ï¼š

```dart
var func = (int a, int b) {
  return a + b;
};
func(1, 2); // 3
```

### ç®­å¤´å‡½æ•°

`Dart`ä¸­çš„ç®­å¤´å‡½æ•°ä¸`JS`ä¸­çš„ç®­å¤´å‡½æ•°ä¸ä¸€æ ·ï¼Œå½“æ™®é€šå‡½æ•°åªæœ‰ä¸€ä¸ªè¯­å¥æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥`{}`ï¼Œä½¿ç”¨`=>`è¿›è¡Œç¼©å†™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```dart
int add4(int a, int b) => a + b;
add4(1, 2); // 3
```

### å‡½æ•°ç±»å‹

Dartè¯­è¨€æ˜¯å®Œå…¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå°±è¿å‡½æ•°æœ¬èº«éƒ½æ˜¯å¯¹è±¡ã€‚å¯¹è±¡çš„è¿è¡Œæ—¶ç±»å‹å¯ä»¥é€šè¿‡`XXX.runtimeType`è·å–ã€‚

```dart
print(add4.runtimeType); // (int, int) => int
```

ä¸`JS`ä¸€æ ·ï¼Œå‡½æ•°åŒæ ·å¯ä»¥ä½œä¸ºå˜é‡ï¼Œä¹Ÿå°±å¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°

```dart
int add5(int a, int b, Function square) {
  return square(a) + square(b);
}

int square(int a) {
  return a * a;
}

var res = add5(1, 2, square);
print(res); // 5
```

## ç±»

åœ¨`Dart`ä¸­ï¼Œä½¿ç”¨å…³é”®å­—`class`å®šä¹‰ç±»

### æ„é€ å‡½æ•°

åœ¨`Dart`ä¸­ï¼Œå®ç°æ„é€ å‡½æ•°åªéœ€è¦åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸ç±»åŒåçš„å‡½æ•°å³å¯

```dart
class Person {
  String name;
  int age;
  Person(this.name, this.age);
  void printInfo() {
    print('name---$name---age---$age');
  }
}
```

è¿™å…¶å®æ˜¯ä¸€ç§ç®€å†™æ–¹å¼ï¼Œå®ƒç­‰åŒäºä¸‹é¢è¿™ç§å†™æ³•

```dart
class Person {
  String name;
  int age;
  // Person(this.name, this.age);
  Person(String name, int age) {
    this.name = name;
    this.age = age;
  }

  void printInfo() {
    print('name---$name---age---$age');
  }
}
```

å½“ä¸éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­åšç‰¹æ®Šå¤„ç†çš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨ä¸Šé¢é‚£ç§ç®€å•çš„æ–¹å¼ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆ™ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æ„é€ å‡½æ•°ï¼š

```dart
class Person {
  String name;
  int age;
  Person(this.name, this.age);
  Person.loadData(this.name, this.age);
  void printInfo() {
    print('name---$name---age---$age');
  }
}
```

### ç±»çš„è¿ç®—ç¬¦é‡è½½

å¦‚æœæˆ‘ä»¬æƒ³è®©ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ ï¼Œè¿›è€Œå¾—å‡ºç›¸å…³å±æ€§çš„ç›¸åŠ ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ²¡æœ‰å¯¹è±¡ç›¸åŠ è¿™ä¸ªåŠŸèƒ½çš„ï¼Œè¿™æ—¶å°±å¯ä»¥ç”¨é‡è½½â€œ+â€è¿ç®—ç¬¦å®Œæˆä¸Šè¿°åŠŸèƒ½

```dart
class Person {
  String name;
  int age;
  Person(this.name, this.age)
      : assert(age > 0, 'ageä¸èƒ½å°äº0'),
        assert(name != null, 'nameä¸èƒ½ä¸ºnull');
  operator +(Person p) {
    return Person(name + p.name, age + p.age);
  }
}

void main() {
  Person p = Person('nanjiu', 18);
  Person p2 = Person('hello', 20);
  Person p3 = p + p2;
  print(p3.name); // nanjiuhello
}
```

**æ³¨æ„ï¼šAssertæ˜¯æ£€æŸ¥è¯­å¥ï¼Œè¿™ç§å½¢å¼æ˜¯ç±»çš„åˆå§‹åŒ–åˆ—è¡¨å½¢å¼**

### ç»§æ‰¿

**extends**

ç±»çš„ç»§æ‰¿ä½¿ç”¨å…³é”®å­—`extends`ï¼Œä½¿ç”¨è¯¥å…³é”®å­—åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»

```dart
class Person {
  String name;
  int age;
  Person(this.name, this.age)
      : assert(age > 0, 'ageä¸èƒ½å°äº0'),
        assert(name != null, 'nameä¸èƒ½ä¸ºnull');
  operator +(Person p) {
    return Person(name + p.name, age + p.age);
  }

  void sayName() {
    print('Person: name---$name');
  }
}

class Man extends Person {
  Man(String name, int age) : super(name, age); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
}
```

```dart
void main() {
  Person man = Man('nanjiu--', 18);
  man.sayName(); //Person: name---nanjiu--
}
```

å¦‚æœå­ç±»æƒ³è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•éœ€è¦ä½¿ç”¨`@override`å…³é”®å­—ï¼Œè°ƒç”¨çˆ¶ç±»æ–¹æ³•è¦ä½¿ç”¨`super`ï¼Œå­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»æ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•ï¼Œå› ä¸º`Dart`ä¸­æ²¡æœ‰`public`ã€`private`å…³é”®å­—

**with**

ä½¿ç”¨`with`å…³é”®å­—æ¥ç»§æ‰¿å¤šä¸ªç±»

```dart
class Person1 {}
class Person2 {}

class Person3 {}

class Person4 extends Person1 with Person2,Person3{}
```

### implements

`Dart`ä¸­æ²¡æœ‰`interface`å…³é”®å­—å®šä¹‰æ¥å£ï¼Œä½†æ˜¯`Dart`ä¸­çš„æ¯ä¸€ä¸ªç±»éƒ½æ˜¯ä¸€ä¸ªéšå¼çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£é‡ŒåŒ…å«ç±»çš„æ‰€æœ‰æ–¹æ³•å’Œå˜é‡ï¼Œå› æ­¤ï¼Œå½“æˆ‘ä»¬å®ç°ä¸€ä¸ªç±»æ—¶ï¼Œéœ€è¦åœ¨å­ç±»é‡Œé¢å®ç°å…¶æ–¹æ³•å’Œå˜é‡

```dart
class Person {
  String name;
  int age;
  Person(this.name, this.age) : assert(age > 0, 'ageä¸èƒ½å°äº0');

  String get getName {
    return name;
  }
}

class Person1 implements Person {
  @override
  int age;

  @override
  String name;

  Person1(this.name, this.age);

  @override
  String get getName {
    return name;
  }
}
```

### abstract

abstractå…³é”®å­—æ˜¯å®šä¹‰æŠ½è±¡ç±»çš„ï¼Œå­ç±»ç»§æ‰¿æŠ½è±¡ç±»æ—¶è¦å®ç°å…¶æŠ½è±¡æ–¹æ³•

```dart
abstract class Person {
  String name;
  int age;
  Person(this.name, this.age) : assert(age > 0, 'ageä¸èƒ½å°äº0');

  String get getName {
    return name;
  }
}

class Person1 extends Person {
  int age;
  String name;

  Person1(this.name, this.age) : super('', 0);

  @override
  String get getName {
    return name;
  }
}
```











